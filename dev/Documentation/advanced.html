
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>BLUESIM User Documentation</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="http://bootswatch.com/simplex/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">
  </head>

  <body>

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-2">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="input.html" style="font-size:18px;">BLUESIM</a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
      <ul class="nav navbar-nav">
        <li ><a href="about.html">About</a></li>
        <li ><a href="install.html">Installation Guide</a></li>
        <li class="dropdown">
          <a href="#userGuide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">User Guide <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="gettingStarted.html">Getting Started</a></li>
            <li ><a href="running.html">Running the Simulation</a></li>
            <li ><a href="output.html">Getting the Output</a></li>
            <li class="active"><a href="advanced.html">Advanced Functionality</a></li>
            <li><a href="demos.html">Demo Simulations</a></li>
            <!-- 
            <li class="divider"></li>
            <li><a href="#">Separated link</a></li>
            <li class="divider"></li>
            <li><a href="#">One more separated link</a></li>
             -->
          </ul>
        </li>
        <li class="dropdown">
          <a href="#referenceGuide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Reference Guide <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
          	<li><a href="udos.html">Entities</a></li>
          	<li><a href="buttons.html">Buttons</a></li>
          	<li><a href="definitions.html">Definitions</a></li>
          </ul>
         </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="../index.html">Canvas</a></li>
      </ul>
    </div>
  </div>
</nav>

    <div class="container">
       <div class="starter-template">
        <section id="JSON">
				<div class="page-header">
					<h2>JSON Section</h2>
					<p>
						It is important to stress that creating JSON from scratch is intended for a more
						advanced user. The simulation is unforgiving for poorly formatted or constructed JSON values.
						However, we find that constructing the actual JSON strings saves the power user time from navigating the 
						UI. 
					</p>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"><b>BlueSim JSON Description</b></div>
					<table class="table table-striped table-bordered">
						<tr>
							<th> Name </th>
							<th> Data Type </th>
							<th> Description </th>
						</tr>
						<tr style= "text-align:left;">
							<td>seed</td>
							<td>unsigned long int</td>
							<td>allow user to set random number generator to seed</td>
						</tr>
						<tr style= "text-align:left;">
							<td>until</td>
							<td>unsigned long int</td>
							<td>number of ticks the simulation with run for</td>
						</tr>
						<tr style= "text-align:left;">
							<td>udoName</td>
							<td>string</td>
							<td>superficial name for the udo object being instantiated</td>
						</tr>
						<tr style= "text-align:left;">
							<td>max_messages</td>
							<td>unsigned long int</td>
							<td>
								when recording UDO field data, we store data in arrays for 
								graphing, max_messages caps the length of this array
							</td>
						</tr>
						<tr style= "text-align:left;">
							<td>udo</td>
							<td>List([Name, Type])</td>
							<td>user defined objects</td>
						</tr>
						<tr style= "text-align:left;">
							<td>use_udo</td>
							<td>boolean</td>
							<td>while UDO fields can be defined, the user still has to enable their use in the simulation</td>
						</tr>
						<tr style= "text-align:left;">
							<td>objects</td>
							<td>List(Entity)
							<td>simulation components</td>
						</tr>
					</table>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"><b>UDO Field</b></div>
					<table class="table table-striped table-bordered">
							<tr style="text-align: left">
								<td>Name</td>
								<td>String</td>
								<td>Name an UDO field, must be unique and may only contain alphanumeric characters</td>
							</tr>
							<tr style="text-align: left">
								<td>Type</td>
								<td>String</td>
								<td>INT, FLOAT, or BOOLEAN</td>
							</tr>
					</table>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"><b>Entity</b></div>
					<table class="table table-striped table-bordered">
						<tr style="text-align: left">
							<td>x</td>
							<td>float</td>
							<td>Set x coordinate in canvas plane</td>
						</tr>
						<tr style="text-align: left">
							<td>y</td>
							<td>float</td>
							<td>Set y coordinate in canvas plane</td>
						</tr>
						<tr style="text-align: left">
							<td>type</td>
							<td>string</td>
							<td>source, string, func, funcsplitter, sink, queue, stack, clone, thermometer, reverser</td>
						</tr>
						<tr style="text-align: left">
							<td>name</td>
							<td>string</td>
							<td>set the internal id of the component</td>
						</tr>
						<tr style="text-align: left">
							<td>out (optional)</td>
							<td>string</td>
							<td>set the destination of the model to the out field</td>
						</tr>
						<tr style="text-align: left">
							<td>username (optional)</td>
							<td>string</td>
							<td>set the external id of the simulation canvas</td>
						</td>
						<tr style="text-align: left">
							<td>model</td>
							<td>model specific fields</td>
							<td>define model specific parameters here</td>
						</tr>
					</table>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"><b>Probability Distributions</b></div>
						<ul class="list-group" style="text-align: left">
							<li class="list-group-item">
								Gaussian(mean, standard deviation)
							</li>
							<li class="list-group-item">
								Exponential(mean, standard deviation)
							</li>
							<li class="list-group-item">
								Pareto(pareto index)
							</li>
							<li class="list-group-item">
								Gamma(shape, scale)
							</li>
							<li class="list-group-item">
								Weibull(shape, scale)
							</li>
							<li class="list-group-item">
								Random()
							</li>
							<li class="list-group-item">
								Uniform(lower, upper)
							</li>
							<li class="list-group-item">
								Constant(num)
							</li>
							<li class="list-group-item">
								Custom(UDO Field) :: <em>this is only availiable for queues and stacks</em>
							</li>
						</ul>
				</div>

				<div class="panel panel-default">
					<div class="panel-heading"><b>Reverser, Cloner, Thermometer, Sink Entities</b></div>
						<p>return null</p>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"><b>Func Block & Function Splitter Entity</b></div>
					<table class="table table-striped table-bordered">
						<tr style="text-align: left">
							<td>fieldToEdit</td>
							<td>string</td>
							<td>string of the udo field name you want to manipulate</td>
						</tr>
						<tr style="text-align: left">
							<td>op</td>
							<td>string</td>
							<td>choose among the following operations: + - % * / =</td>
						</tr>
						<tr style="text-align: left">
							<td>constant</td>
							<td>string</td>
							<td>enter a constant (or in fact javascript expression)</td>
						</tr>
					</table>		
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"><b>Stack & Queue Entity</b></div>
					<table class="table table-striped table-bordered">
						<tr style="text-align: left">
							<td>nservers</td>
							<td>unsigned int</td>
							<td>(number of servers) choose how many elements in the data structure can be serviced at a time</td>
						</tr>
						<tr style="text-align: left">
							<td>maxqlen</td>
							<td>int</td>
							<td>max length of structure, maxqlen == -1 means infinite length</td>
						</tr>
						<tr style="text-align: left">
							<td>distribution</td>
							<td>string</td>
							<td>name of probability distribution function used to generate a field: 
							gaussian, pareto, exponential, gamma, random, uniform, weibull, custom
							</td>
						</tr>
						<tr style="text-align: left">
							<td>params</td>
							<td>[float, float]</td>
							<td>pass parameters required by a given probability distribution</td>
						</tr>
					</table>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"><b>Source Entity</b></div>
					<table class="table table-striped table-bordered">
						<tr style="text-align: left">
							<td>distribution</td>
							<td>string</td>
							<td>name of probability distribution function used to generate a field: 
							gaussian, pareto, exponential, gamma, random, uniform, weibull</td>
						</tr>
						<tr style="text-align: left">
							<td>params</td>
							<td>[float, float]</td>
							<td>pass parameters required by a given probability distribution</td>
						</tr>
						<tr style="text-align: left">
							<td>udoFields</td>
							<td>javascript object with UDO field name as key</td>
							<td>Keep track of how to a source instantiates each UDO field</td>
						</tr>
					</table>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading"><b>udoFields Entity</b></div>
					<table class="table table-striped table-bordered">
						<tr style="text-align: left">
							<td>type</td>
							<td>string</td>
							<td>INT, FLOAT, or BOOLEAN</td>
						</tr>
						<tr style="text-align: left">
							<td>distribution</td>
							<td>string</td>
							<td>name of probability distribution function used to generate a field: 
							gaussian, pareto, exponential, gamma, random, uniform, weibull</td>
						</tr>
						<tr style="text-align: left">
							<td>params</td>
							<td>[float, float]</td>
							<td>pass parameters required by a given probability distribution</td>
						</tr>

						<tr style="text-align: left">
							<td>boolBase</td>
							<td>float</td>
							<td>To generate a random boolean value, we generate a random float from a given distribution, call this x. If x > = boolBase then the field is set true otherwise false</td>
						</tr>
					</table>
				</div>
		</section>
		
		<section id="jsInjection">
			<div class="page-header">
				<h2>Advanced Expressions with the <code>eval()</code> statements</h2>
				<h4>  <em>in other words, controlled javascript injection</em></h4>
			</div>
			<div class="media">
        		<div class = "media-body">
        			<h3 class="media-heading" style="text-align:left;">Advanced Expressions</h3>
        			<p class = "media-left" style="text-align:left;">
						In BLUESIM, we allow UDOs to evolve as the simulation progresses; however, 
						we technically only support a small subset of possible transformations on the data. You 
						can do basic arithmetic, the modulus, and an assignment. For our function 
						splitter, users can only compare an UDO by less than, greater than, or 
						with the equals operator. For a more advanced user though who has knowledge 
						of javascript, there is a workaround we have left for you to exploit.
					</p>
					<br/>
					<p class="media-left" style="text-align:left">
						The func block and func splitter revolve around using javascript's <code>eval()</code> 
						function. When you choose your fieldToEdit/Check in the func block 
						or func splitter and your constant string we simply combine all of 
						the components in a <code>join("")</code> call. You can just 
						think of the expression as some like <code>[field, op, constant].join("")</code> Finally, we 
						prepend <b>all</b> instances of the field with <code>@</code> in the 
						string. Be wary of this the next time you choose "a" as your field 
						name. Right before the actual <code>eval()</code> statement we once again 
						do a string replace on all instances of <code>@field</code>. Here we index 
						the UDO structure into something like: <code>UDO.fields["fieldName"]...</code>.
					</p>
					<br/>
					<p class="media-left" style="text-align: left">
						This workaround is extremely convenient for us because it allows us to shield basic users from 
						complex expressions and allows interested users the ability to write arbitrary functions. We will
						not provide an actual tutorial on how to accomplish this since any knowledge of javascript should
						be enough. We do recommend you look at some of our examples that highlght this feature such as <b>
						Sine Wave</em>.
					</p>
        		</div>
		</section>
      </div>
		
    </div><!-- /.container -->
   
    
 	<footer class="footer">
      <div class="container">
        <p class="text-muted">BLUESIM is open source.</p>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  </body>
</html>
